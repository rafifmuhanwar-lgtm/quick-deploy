<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>QuickDeploy â€” Deploy Static Sites Instantly</title>
  <meta name="description" content="Upload a folder or files and deploy your static website to Netlify in one click. No login required." />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            paper: '#f6f3ee',
            ink: '#1f1b16',
            accent: { DEFAULT: '#1b6ca8', light: '#3a8dc9', dark: '#14527f' },
            sun: { DEFAULT: '#f2b15c', dark: '#d0882e' },
            success: { DEFAULT: '#2e9b72', light: '#6fd1b2' },
            muted: { DEFAULT: '#6b665f', light: '#a59d93' },
          },
          fontFamily: {
            sans: ['Space Grotesk', 'system-ui', 'sans-serif'],
            display: ['Fraunces', 'serif'],
            mono: ['JetBrains Mono', 'ui-monospace', 'SFMono-Regular', 'monospace'],
          },
        },
      },
    };
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@500;600;700&family=JetBrains+Mono:wght@400;500&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    *, *::before, *::after { box-sizing: border-box; }
    :root {
      --paper: #f6f3ee;
      --ink: #1f1b16;
      --accent: #1b6ca8;
      --accent-2: #f2b15c;
      --success: #2e9b72;
    }
    body { background: var(--paper); color: var(--ink); font-family: 'Space Grotesk', system-ui, sans-serif; }

    /* Animated gradient background */
    .bg-grid {
      background-image:
        radial-gradient(circle at 20% 15%, rgba(27, 108, 168, 0.12), transparent 45%),
        radial-gradient(circle at 85% 0%, rgba(242, 177, 92, 0.25), transparent 40%),
        radial-gradient(circle at 80% 85%, rgba(46, 155, 114, 0.12), transparent 45%),
        linear-gradient(180deg, rgba(0, 0, 0, 0.03), transparent 30%);
    }

    /* Drop zone styles */
    .drop-zone {
      border: 2px dashed rgba(27, 108, 168, 0.35);
      background: rgba(255, 255, 255, 0.6);
      transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }
    .drop-zone::before {
      content: '';
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 50% 50%, rgba(27, 108, 168, 0.08), transparent 70%);
      opacity: 0;
      transition: opacity 0.35s ease;
    }
    .drop-zone:hover, .drop-zone.drag-over {
      border-color: rgba(27, 108, 168, 0.85);
      background: rgba(27, 108, 168, 0.08);
      transform: translateY(-1px);
      box-shadow: 0 20px 45px rgba(27, 108, 168, 0.15), inset 0 0 0 1px rgba(27, 108, 168, 0.1);
    }
    .drop-zone:hover::before, .drop-zone.drag-over::before { opacity: 1; }

    /* Spinner animation */
    @keyframes spin { to { transform: rotate(360deg); } }
    .spinner {
      width: 48px; height: 48px;
      border: 3px solid rgba(27, 108, 168, 0.18);
      border-top-color: #1b6ca8;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }

    /* Pulse ring animation */
    @keyframes pulse-ring {
      0% { transform: scale(0.8); opacity: 1; }
      100% { transform: scale(2.2); opacity: 0; }
    }
    .pulse-ring {
      position: absolute;
      width: 48px; height: 48px;
      border: 2px solid rgba(27, 108, 168, 0.35);
      border-radius: 50%;
      animation: pulse-ring 1.5s ease-out infinite;
    }

    /* Floating particles */
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { transform: translateY(-120px) rotate(180deg); opacity: 0; }
    }

    /* Success checkmark animation */
    @keyframes check-draw {
      to { stroke-dashoffset: 0; }
    }
    @keyframes scale-bounce {
      0% { transform: scale(0); }
      60% { transform: scale(1.15); }
      100% { transform: scale(1); }
    }

    /* Copy button tooltip */
    .copy-tooltip {
      position: absolute;
      top: -32px; left: 50%;
      transform: translateX(-50%) scale(0.9);
      padding: 4px 10px;
      background: #2e9b72;
      color: #f6f3ee;
      font-size: 11px;
      font-weight: 600;
      border-radius: 6px;
      opacity: 0;
      pointer-events: none;
      transition: all 0.25s ease;
    }
    .copy-tooltip.show {
      opacity: 1;
      transform: translateX(-50%) scale(1);
    }

    /* Smooth state transitions */
    .state-panel {
      transition: opacity 0.4s ease, transform 0.4s ease;
    }
    .state-panel.hidden-state {
      opacity: 0;
      transform: translateY(12px);
      pointer-events: none;
      position: absolute;
    }

    /* Glowing button */
    .btn-deploy {
      background: linear-gradient(135deg, #1b6ca8, #14527f);
      transition: all 0.3s ease;
      position: relative;
      color: #f6f3ee;
    }
    .btn-deploy:hover:not(:disabled) {
      box-shadow: 0 18px 35px rgba(27, 108, 168, 0.25);
      transform: translateY(-1px);
    }
    .btn-deploy:disabled { opacity: 0.4; cursor: not-allowed; }

    /* Scrollbar */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: rgba(31, 27, 22, 0.25); border-radius: 3px; }
  </style>
</head>
<body class="min-h-screen bg-grid text-ink antialiased">

  <!-- Header -->
  <header class="fixed top-0 left-0 right-0 z-50 border-b border-ink/10 backdrop-blur-xl bg-paper/80">
    <div class="max-w-5xl mx-auto px-6 h-16 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-accent to-accent-dark flex items-center justify-center">
          <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5" />
          </svg>
        </div>
        <span class="text-lg font-semibold tracking-tight">Quick<span class="text-accent">Deploy</span></span>
      </div>
      <a href="https://github.com" target="_blank" class="text-xs text-ink/40 hover:text-ink/70 transition-colors">v1.0</a>
    </div>
  </header>

  <!-- Main Content -->
  <main class="max-w-2xl mx-auto px-6 pt-32 pb-20">

    <!-- Hero -->
    <div class="text-center mb-12">
      <h1 class="text-4xl sm:text-5xl font-display font-semibold tracking-tight mb-4 text-ink">
        Deploy in
        <span class="bg-gradient-to-r from-accent to-sun bg-clip-text text-transparent">one click</span>
      </h1>
      <p class="text-ink/60 text-base sm:text-lg max-w-md mx-auto leading-relaxed">
        Upload your static website as a <span class="text-accent font-medium">folder</span> or <span class="text-accent font-medium">files</span> and get a live URL instantly.
      </p>
    </div>

    <!-- Card Container -->
    <div class="relative bg-white/80 backdrop-blur-sm border border-ink/10 rounded-2xl p-8 shadow-2xl shadow-ink/10">

      <!-- STATE: Upload (Default) -->
      <div id="state-upload" class="state-panel">
        <!-- Drop Zone -->
        <div id="drop-zone" class="drop-zone rounded-xl p-10 sm:p-14 text-center cursor-pointer group">
          <div class="flex flex-col items-center gap-4">
            <div class="relative">
              <div class="w-16 h-16 rounded-2xl bg-accent/10 border border-accent/20 flex items-center justify-center group-hover:bg-accent/15 transition-all">
                <svg id="icon-upload" class="w-7 h-7 text-accent transition-transform group-hover:scale-110" fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z" />
                </svg>
              </div>
            </div>
            <div>
              <p class="text-ink/70 font-medium text-sm" id="drop-text">
                Drag & drop your files here
              </p>
              <p class="text-ink/40 text-xs mt-1.5">or use the buttons below Â· max 50 MB (after packaging)</p>
            </div>
          </div>
        </div>

        <div class="mt-4 flex flex-col sm:flex-row gap-3">
          <button id="btn-folder" class="w-full sm:flex-1 py-2.5 rounded-xl bg-accent/10 border border-accent/20 text-accent text-sm font-semibold hover:bg-accent/15 transition-colors">
            Choose Folder
          </button>
          <button id="btn-files" class="w-full sm:flex-1 py-2.5 rounded-xl bg-white/70 border border-ink/10 text-ink/60 text-sm font-semibold hover:text-ink hover:border-ink/20 transition-colors">
            Choose Files
          </button>
        </div>
        <p class="text-ink/40 text-xs mt-2">Folder upload keeps structure. Multi-file upload may flatten paths in some browsers.</p>

        <!-- File info bar -->
        <div id="file-info" class="hidden mt-4 px-4 py-3 rounded-xl bg-white/80 border border-ink/10 flex items-center justify-between">
          <div class="flex items-center gap-3 min-w-0">
            <div class="w-8 h-8 rounded-lg bg-accent/10 flex items-center justify-center flex-shrink-0">
              <svg class="w-4 h-4 text-accent" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
              </svg>
            </div>
            <div class="min-w-0">
              <p id="file-name" class="text-sm text-ink/80 font-medium truncate"></p>
              <p id="file-size" class="text-xs text-ink/50"></p>
            </div>
          </div>
          <button id="btn-remove" class="text-ink/40 hover:text-red-500 transition-colors p-1">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>

        <!-- Deploy button -->
        <button id="btn-deploy" class="btn-deploy w-full mt-6 py-3.5 rounded-xl text-white font-semibold text-sm tracking-wide" disabled>
          ðŸš€ Deploy to Netlify
        </button>

        <!-- Error message -->
        <div id="error-msg" class="hidden mt-4 px-4 py-3 rounded-xl bg-red-500/10 border border-red-500/20 text-red-400 text-sm flex items-center gap-2">
          <svg class="w-4 h-4 flex-shrink-0" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z" />
          </svg>
          <span id="error-text"></span>
        </div>
      </div>

      <!-- STATE: Deploying (Loading) -->
      <div id="state-deploying" class="state-panel hidden-state">
        <div class="flex flex-col items-center py-10 gap-5">
          <div class="relative flex items-center justify-center">
            <div class="pulse-ring"></div>
            <div class="spinner"></div>
          </div>
          <div class="text-center">
            <p class="text-ink/70 font-semibold text-sm">Deploying your siteâ€¦</p>
            <p class="text-ink/50 text-xs mt-1.5">This usually takes 5â€“15 seconds</p>
          </div>
        </div>
      </div>

      <!-- STATE: Success -->
      <div id="state-success" class="state-panel hidden-state">
        <div class="flex flex-col items-center py-8 gap-6">
          <!-- Animated checkmark -->
          <div class="w-16 h-16 rounded-full bg-success/10 border-2 border-success/30 flex items-center justify-center" style="animation: scale-bounce 0.5s ease forwards">
            <svg class="w-8 h-8 text-success" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5"
                style="stroke-dasharray: 30; stroke-dashoffset: 30; animation: check-draw 0.5s ease forwards 0.3s" />
            </svg>
          </div>
          <div class="text-center">
            <p class="text-ink font-bold text-lg">Deployed Successfully! ðŸŽ‰</p>
            <p class="text-ink/50 text-sm mt-1">Your site is live at:</p>
          </div>
          <!-- URL copy box -->
          <div class="w-full relative">
            <div class="flex items-center gap-0 rounded-xl bg-white/80 border border-ink/10 overflow-hidden">
              <input id="result-url" type="text" readonly
                class="flex-1 bg-transparent px-4 py-3.5 text-success text-sm font-mono outline-none select-all" />
              <button id="btn-copy" class="relative px-4 py-3.5 text-ink/50 hover:text-accent border-l border-ink/10 transition-colors group">
                <span class="copy-tooltip" id="copy-tooltip">Copied!</span>
                <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9.75a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184" />
                </svg>
              </button>
            </div>
          </div>
          <!-- Visit & Deploy Another -->
          <div class="flex gap-3 w-full">
            <a id="btn-visit" href="#" target="_blank"
              class="flex-1 py-3 rounded-xl bg-success/10 border border-success/20 text-success font-semibold text-sm text-center hover:bg-success/20 transition-colors">
              â†— Visit Site
            </a>
            <button id="btn-another"
              class="flex-1 py-3 rounded-xl bg-white/70 border border-ink/10 text-ink/60 font-semibold text-sm hover:text-ink hover:border-ink/20 transition-colors">
              + Deploy Another
            </button>
          </div>
        </div>
      </div>

    </div>

    <!-- Footer info -->
    <p class="text-center text-ink/40 text-xs mt-8">
      Build By DEVPIPX Â· 2026
    </p>
  </main>

  <!-- Hidden file input -->
  <input type="file" id="folder-input" webkitdirectory directory multiple class="hidden" />
  <input type="file" id="files-input" multiple class="hidden" />

  <script>
    // === DOM Elements ===
    const dropZone = document.getElementById('drop-zone');
    const folderInput = document.getElementById('folder-input');
    const filesInput = document.getElementById('files-input');
    const btnFolder = document.getElementById('btn-folder');
    const btnFiles = document.getElementById('btn-files');
    const fileInfo = document.getElementById('file-info');
    const fileName = document.getElementById('file-name');
    const fileSize = document.getElementById('file-size');
    const btnRemove = document.getElementById('btn-remove');
    const btnDeploy = document.getElementById('btn-deploy');
    const errorMsg = document.getElementById('error-msg');
    const errorText = document.getElementById('error-text');

    const stateUpload = document.getElementById('state-upload');
    const stateDeploying = document.getElementById('state-deploying');
    const stateSuccess = document.getElementById('state-success');

    const resultUrl = document.getElementById('result-url');
    const btnCopy = document.getElementById('btn-copy');
    const copyTooltip = document.getElementById('copy-tooltip');
    const btnVisit = document.getElementById('btn-visit');
    const btnAnother = document.getElementById('btn-another');

    const MAX_SIZE = 50 * 1024 * 1024;
    let selectedFiles = [];
    let selectionMode = null;
    let totalBytes = 0;

    // === Utility: Format bytes ===
    function formatBytes(bytes) {
      if (bytes === 0) return '0 B';
      const k = 1024;
      const sizes = ['B', 'KB', 'MB', 'GB'];
      const i = Math.floor(Math.log(bytes) / Math.log(k));
      return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];
    }

    // === Utility: Show error ===
    function showError(msg) {
      errorText.textContent = msg;
      errorMsg.classList.remove('hidden');
      setTimeout(() => errorMsg.classList.add('hidden'), 6000);
    }

    // === Utility: Switch state ===
    function switchState(target) {
      [stateUpload, stateDeploying, stateSuccess].forEach((el) => {
        if (el === target) {
          el.classList.remove('hidden-state');
        } else {
          el.classList.add('hidden-state');
        }
      });
    }

    // === Drag & Drop Events ===
    ['dragenter', 'dragover'].forEach((evt) => {
      dropZone.addEventListener(evt, (e) => {
        e.preventDefault();
        e.stopPropagation();
        dropZone.classList.add('drag-over');
      });
    });

    ['dragleave', 'drop'].forEach((evt) => {
      dropZone.addEventListener(evt, (e) => {
        e.preventDefault();
        e.stopPropagation();
        dropZone.classList.remove('drag-over');
      });
    });

    dropZone.addEventListener('drop', (e) => {
      const files = e.dataTransfer.files;
      if (files.length > 0) {
        const list = Array.from(files);
        const hasRelative = list.some((f) => f.webkitRelativePath);
        handleSelection(list, hasRelative ? 'folder' : 'files');
      }
    });

    dropZone.addEventListener('click', () => filesInput.click());
    btnFolder.addEventListener('click', () => folderInput.click());
    btnFiles.addEventListener('click', () => filesInput.click());

    folderInput.addEventListener('change', () => {
      if (folderInput.files.length > 0) handleSelection(folderInput.files, 'folder');
    });

    filesInput.addEventListener('change', () => {
      if (filesInput.files.length > 0) handleSelection(filesInput.files, 'files');
    });

    function getRootFolder(files) {
      const withPath = files.find((f) => f.webkitRelativePath);
      if (!withPath) return 'Selected folder';
      const parts = withPath.webkitRelativePath.split('/');
      return parts[0] || 'Selected folder';
    }

    // === Handle selected files ===
    function handleSelection(fileList, mode) {
      errorMsg.classList.add('hidden');
      const list = Array.from(fileList || []);
      if (list.length === 0) return;

      selectedFiles = list;
      selectionMode = mode;
      totalBytes = selectedFiles.reduce((sum, f) => sum + f.size, 0);

      let label = '';
      if (mode === 'folder') {
        const root = getRootFolder(selectedFiles);
        label = `Folder: ${root} (${selectedFiles.length} files)`;
      } else {
        label = `Files: ${selectedFiles.length} files`;
      }

      fileName.textContent = label;
      fileSize.textContent = `Total size: ${formatBytes(totalBytes)}`;
      fileInfo.classList.remove('hidden');
      btnDeploy.disabled = false;
    }

    function resetSelection() {
      selectedFiles = [];
      selectionMode = null;
      totalBytes = 0;
      folderInput.value = '';
      filesInput.value = '';
      fileInfo.classList.add('hidden');
      btnDeploy.disabled = true;
    }

    // === Remove file ===
    btnRemove.addEventListener('click', () => {
      resetSelection();
    });

    // === Deploy ===
    async function buildZip(files, mode) {
      if (!window.JSZip) {
        throw new Error('JSZip library failed to load.');
      }

      const zip = new JSZip();
      files.forEach((file) => {
        const path = mode === 'folder' && file.webkitRelativePath ? file.webkitRelativePath : file.name;
        zip.file(path, file);
      });

      return zip.generateAsync({
        type: 'blob',
        compression: 'DEFLATE',
        compressionOptions: { level: 6 },
      });
    }

    btnDeploy.addEventListener('click', async () => {
      if (!selectedFiles.length) return;

      switchState(stateDeploying);
      errorMsg.classList.add('hidden');
      btnDeploy.disabled = true;

      let deployed = false;

      try {
        const zipBlob = await buildZip(selectedFiles, selectionMode);
        if (zipBlob.size > MAX_SIZE) {
          switchState(stateUpload);
          showError('Packed upload is too large. Maximum size is 50 MB.');
          return;
        }

        const res = await fetch('/api/deploy', {
          method: 'POST',
          headers: { 'Content-Type': 'application/zip' },
          body: zipBlob,
        });

        const data = await res.json();

        if (!res.ok || !data.success) {
          switchState(stateUpload);
          showError(data.error || 'Deployment failed. Please try again.');
          return;
        }

        // Success!
        resultUrl.value = data.url;
        btnVisit.href = data.url;
        switchState(stateSuccess);
        deployed = true;
      } catch (err) {
        switchState(stateUpload);
        showError(err?.message || 'Network error. Please check your connection and try again.');
      } finally {
        if (!deployed) btnDeploy.disabled = false;
      }
    });

    // === Copy URL ===
    btnCopy.addEventListener('click', () => {
      navigator.clipboard.writeText(resultUrl.value).then(() => {
        copyTooltip.classList.add('show');
        setTimeout(() => copyTooltip.classList.remove('show'), 1500);
      });
    });

    // === Deploy Another ===
    btnAnother.addEventListener('click', () => {
      resetSelection();
      errorMsg.classList.add('hidden');
      switchState(stateUpload);
    });
  </script>
</body>
</html>








